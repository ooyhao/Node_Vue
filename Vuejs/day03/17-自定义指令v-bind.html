<!DOCTYPE html>
<html
      xmlns:v-bind="http://www.w3.org/1999/xhtml"
      xmlns:v-mybind="http://www.w3.org/1999/xhtml">
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="node_modules/vue/dist/vue.min.js"></script>
</head>
<style>
    .border{
        width: 200px;
        height: 200px;
        border: 2px solid red;
    }
    .bg{
        background-color: blue;
    }
</style>
<body>

<div id="app">
    <span v-mybind:title=" 'Hello OuYang' ">234</span>
    <div v-bind:class="{border:border,bg:bg}">v中的v-bind</div>
    <hr/>
    <div v-mybind:class="'border'" >自定义的v-bind</div>
    <hr/>
    <input type="text" v-mybind:value="1234"/>
    <hr/>
    <div v-mybind:class="{border:border,bg:bg}">对象属性</div>
</div>
<script>

    /*Vue.directive('mybind',{
        bind:function(el,binding){
            /!**获取需要绑定的属性*!/
            var arg = binding.arg;
            if(binding.value instanceof Object && arg === 'class'){
                var values = binding.value;
                for(var key in values){
                    if(values[key] && !el.classList.contains(key)){
                        el.classList.add(key);
                    }else if(!values[key] && el.classList.contains(key)){
                        el.classList.remove(key);
                    }
                }
                return;
            }
            /!**获取需要指定的值*!/
            var value = binding.value;
            el.setAttribute(arg,value);
        },
        update:function(el,binding){
            /!**获取需要绑定的属性*!/
            var arg = binding.arg;
            if(binding.value instanceof Object && arg === 'class'){
                var values = binding.value;
                for(var key in values){
                    if(values[key] && !el.classList.contains(key)){
                        el.classList.add(key);
                    }else if(!values[key] && el.classList.contains(key)){
                        el.classList.remove(key);
                    }
                }
                return;
            }
            /!**获取需要指定的值*!/
            var value = binding.value;
            el.setAttribute(arg,value);
        }
    });*/
    Vue.directive('mybind',function(el,binding){
        /**获取需要绑定的属性*/
        var arg = binding.arg;
        if(binding.value instanceof Object && arg === 'class'){
            var values = binding.value;
            for(var key in values){
                if(values[key] && !el.classList.contains(key)){
                    el.classList.add(key);
                }else if(!values[key] && el.classList.contains(key)){
                    el.classList.remove(key);
                }
            }
            return;
        }
        /**获取需要指定的值*/
        var value = binding.value;
        el.setAttribute(arg,value);
    });

    var app = new Vue({
        el: '#app',
        data: {
            border:true,
            bg:true
        },
        methods: {},
        computed: {},
        watch: {},
        directives:{}
    });
</script>
</body>
</html>